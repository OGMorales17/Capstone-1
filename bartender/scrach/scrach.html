

{% block content %}
  <section class="py-5 text-center container">
    <div class="row py-lg-5">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-light">Welcome back</h1>
      </div>
    </div>
  </section>


  <div class="row justify-content-md-center">
    <div class="col-md-7 col-lg-5">
      <form method="POST" id="user_form">
        {{ form.hidden_tag() }}

        {% for field in form if field.widget.input_type != 'hidden' %}
          {% for error in field.errors %}
            <span class="text-danger">{{ error }}</span>
          {% endfor %}
          {{ field(placeholder=field.label.text, class="form-control") }}
        {% endfor %}

        <button class="btn btn-primary btn-block btn-lg">Log in</button>
      </form>
    </div>
  </div>

{% endblock %}


<!-- ------------------------------------------------ -->

	<!-- <div class="container">
		<h1>Search Cocktail by Name</h1>

		<div class="content">
			<div>
				<h2><b>{{ cocktail.name }}</b></h2>
				<p><b>Category : {{ cocktail.category }}</b></p>
				<img src="{{ cocktail.thumb }}" class="thumb-img">
				<p><em><b>{{ cocktail.instructions }}</b></em></p>
			</div>
			<div>
				<h4><b>Ingredients</b></h4>
				<ul>
					{% for ingredient in cocktail.ingredients %}
					<li><b>{{ ingredient }}</b></li>
					{% endfor %}
				</ul>
				<h4><b>Measurements</b></h4>
				<ul>
					{% for measurement in cocktail.measurements %}
					<li><b>{{ measurement }}</b></li>
					{% endfor %}
				</ul>
			</div>
		</div>
	</div> -->


<!-- ------------------------------------------------ -->




  <div class="container">
    <div class="row justify-content">
      <div class="col-md-auto">
      <ul>
      {% for measurement in cocktail.measurements %}
      <ul>{{ measurement }} - </ul>
      {% endfor %}
      </ul>
      </div>
      <div class="col-md-auto">
      <ul>
      {% for ingredient in cocktail.ingredients %}
      <ul>{{ ingredient }}</ul>
      {% endfor %}
      </ul>
      </div>
    </div>
  </div>

<!-- ------------------------------------------------ -->

<!-- This code is for putting ingredients and measurement side by side-->


  <ul>
  {% for i,m in zip(cocktail.ingredients, cocktail.measurements) %}
  <ul>{{ i }} - {{ m }}</ul>
  {% endfor %}
  </ul>

<!-- ------------------------------------------------ -->



    {% if cocktails|length == 0 %}
    <h3>Sorry, no cocktails found</h3>
  {% else %}
  {% for cocktail in cocktails %}
    <div class="row justify-content-center">
      <div class="col-sm-9">
        <div class="row">
        <div class="card user-card">
          <div class="card-inner">
            <img class="contain" src="{{ cocktail.thumb }}" alt="">
            <div class="card-contents"><p>{{ cocktail.name }}</p></div>
            <p> {{ cocktail.instructions }}</p>
            <div class="container">
            <div class="row justify-content">
              <div class="col-md-auto">
              <ul>
                {% for ingredient in cocktail.ingredients %}
                <ul>{{ ingredient }}</ul>
                {% endfor %}
              </ul>
              </div>
              <div class="col-md-auto">
              <ul>
                {% for measurement in cocktail.measurements %}
                <ul>{{ measurement }}</ul>
                {% endfor %}
              </ul>
              </div>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
   {% endfor %}
  {% endif %}


  <!-- ----------------------------------------------------------------- -->

   <!-- {% if cocktails|length == 0 %}
  <h3>Sorry, no cocktails found</h3>
  {% else %}
  {% for cocktail in cocktails %}
  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        <div class="col">
          <div class="card shadow-sm">
            <img class="contain" src="{{ cocktail.thumb }}" alt="">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center">
                <p class="text-center">{{ cocktail.name }}</p>
                <div class="btn-group">
                  <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  {% endif %} -->




<!-- Base.html -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->


<div class="container text-center">
  
  {% block content %}
  
  {% endblock %}
  {% for category, message in get_flashed_messages(with_categories=True) %}
  <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %}

  <div class="album py-5">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% if cocktails %}
        {% for cocktail in cocktails %}
        <div class="col">
          <div class="card shadow-lg">
            <img class="contain rounded-top" src="{{ cocktail.thumb }}" alt="">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center">
                <p class="text-center">{{ cocktail.name }}</p>
                <div class="btn-group">
                  <a href="/drink_details?drink_id={{cocktail.id}}">
                  <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                  </a>
                  <!--  -->
                  <!-- <a href="/users/favorite">
                  <button type="button" class="btn btn-sm btn-outline-secondary">Save it</button>
                  </a> -->
                  {% if g.user %}
                  <form method="POST"
                  action="/users/favorite/{{ cocktail.id }}">
                  <!-- <button type="button" class="btn btn-sm btn-outline-secondary" onClick="add_fav(`{{cocktail.id}}`, `{{g.user.id}}`)">Save it</button> -->
                  <button type="button" class="btn btn-sm btn-outline-secondary">Save it</button>
                  </form>
                  {% else %}
                  <a href="/signup">
                    <button type="button" class="btn btn-sm btn-outline-secondary">Save it</button>
                  </a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>
</div>

<!-- JS 
// function add_fav(drink_id, user_id) {

//   $.post('/users/favorite/' + drink_id,
//     { 'user_id': user_id },
//     function (response) {
//       if (response.success) {
//         alert("Drink added!")
//       } else {
//         alert("Failed to add Drink.")
//       }

//     });


// }

